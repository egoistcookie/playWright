# 有道云笔记提取工具

这是一个使用 Playwright 开发的自动化工具，用于从有道云笔记网页版提取日记内容并导出为文本文件。

## 功能特性

- 自动登录有道云笔记（支持保存和加载Cookie）
- 批量提取日记内容
- 智能过滤和清理内容（去除重复段落、UI元素和系统文本）
- 支持文本相似度计算
- 详细的日志记录
- 自动生成时间戳文件名

## 项目结构

```
playWright/
├── click_and_extract_diary.js  # 主要的日记提取脚本
├── extract_title.js           # 标题提取脚本
├── cookies.json               # 保存的登录Cookie
├── package.json               # 项目依赖配置
├── README.md                  # 项目说明文档
└── 笔记导出/                  # 导出的笔记内容文件夹
```

## 安装依赖

1. 确保已安装 Node.js
2. 克隆或下载本项目到本地
3. 安装依赖包

```bash
npm install
```

## 使用方法

### 提取日记内容

```bash
node click_and_extract_diary.js
```

首次运行时，程序会打开浏览器窗口，请按照提示完成登录并导航到日记文件夹。登录信息会保存到 `cookies.json`，以便后续自动登录。

### 提取标题

```bash
node extract_title.js
```

## 工作原理

1. 启动浏览器并加载有道云笔记网页
2. 尝试使用保存的Cookie自动登录
3. 如果没有Cookie或登录失败，等待用户手动登录
4. 登录成功后，程序会自动点击每个笔记条目
5. 从每个笔记中提取标题和内容
6. 过滤和清理提取的内容
7. 将处理后的内容保存到 `笔记导出` 文件夹中

## 输出格式

导出的文件命名格式为：`有道云笔记_日记_时间戳.txt`

文件内容格式：
```
###标题###[笔记标题]

笔记正文内容...
```

## 注意事项

1. 请确保网络连接稳定
2. 如果遇到登录问题，尝试删除 `cookies.json` 文件并重新手动登录
3. 导出文件夹会自动创建，无需手动创建
4. 程序会自动记录详细日志，便于排查问题

## 技术栈

- Node.js
- Playwright
- JavaScript

## 许可证

MIT